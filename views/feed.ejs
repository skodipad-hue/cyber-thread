<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Feed</title>

<script src="https://cdn.tailwindcss.com"></script>

<script>
tailwind.config = {
  theme: {
    extend: {
      colors: {
        twitterBg: "#f5f9fc",
        twitterCard: "#ffffff",
        twitterBorder: "#e5eff6",
        twitterBlue: "#1d9bf0",
        twitterHover: "#e8f3ff",
        twitterText: "#0f172a",
        twitterMuted: "#64748b"
      }
    }
  }
}
</script>
</head>

<body class="bg-twitterBg text-twitterText font-sans antialiased min-h-screen">

<!-- HEADER -->
<header class="bg-white border-b border-twitterBorder">
  <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">

    <a href="/login"
       class="text-red-500 font-semibold hover:underline">
      Logout
    </a>

    <h1 class="text-xl font-bold text-twitterBlue tracking-tight">
      Cyber Threads
    </h1>

    <a href="/profile/<%= userId %>"
       class="text-twitterBlue font-semibold hover:underline">
      Profile
    </a>

  </div>
</header>

<!-- FEED -->
<section
  class="max-w-7xl mx-auto mt-6 px-6 pb-20
         flex flex-wrap gap-6 justify-start items-start">

  <% if (!posts || posts.length === 0) { %>
    <p class="w-full text-center text-twitterMuted text-base">
      No posts yet.
    </p>
  <% } %>

  <% posts.forEach(post => { %>

  <!-- POST CARD -->
  <div class="w-full sm:w-[48%] lg:w-[31%]">

    <div
      class="bg-twitterCard
             border border-twitterBorder
             rounded-2xl
             shadow-sm
             hover:shadow-md
             transition">

      <a href="/posts/<%= post.id %>" class="block w-full text-left">

        <!-- HEADER -->
        <div class="flex justify-between items-start px-5 pt-4 pb-2">
          <h3 class="font-semibold text-twitterText text-sm">
            @<%= post.username %>
          </h3>
          <small class="text-twitterMuted text-xs whitespace-nowrap">
            <%= post.timeAgo %>
          </small>
        </div>

        <!-- CONTENT -->
        <div class="px-5 pb-5 pt-1">
          <p class="text-[15px] leading-relaxed text-twitterText break-words">
            <%= post.content %>
          </p>
        </div>

      </a>

    </div>

  </div>

  <% }) %>

</section>

</body>
</html>
