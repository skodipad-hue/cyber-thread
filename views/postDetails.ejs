<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Post Details</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <script src="https://cdn.tailwindcss.com"></script>

  <script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            /* LIGHT */
            twitterBg: "#f5f9fc",
            twitterCard: "#ffffff",
            twitterBorder: "#e5eff6",
            twitterBlue: "#1d9bf0",
            twitterHover: "#e8f3ff",
            twitterText: "#0f172a",
            twitterMuted: "#64748b",

            /* DARK (Graphite Blue) */
            darkBg: "#0f1419",
            darkCard: "#161b22",
            darkBorder: "#232a31",
            darkText: "#e6edf3",
            darkMuted: "#8b949e"
          }
        }
      }
    }
  </script>
</head>

<body class="bg-twitterBg dark:bg-darkBg text-twitterText dark:text-darkText min-h-screen font-sans antialiased">

<!-- THEME TOGGLE (TOP RIGHT) -->
<button id="themeToggle"
  class="fixed top-6 right-6 p-2 rounded-full
         hover:bg-twitterHover dark:hover:bg-white/10
         transition shadow-sm z-50">

  <span id="sun" class="text-lg">‚òÄÔ∏è</span>
  <span id="moon" class="text-lg hidden">üåô</span>
</button>

<!-- BACK -->
<a href="/users/<%= post.user_id %>/posts"
   class="inline-flex items-center gap-2 m-6 px-4 py-2
          bg-twitterBlue text-white rounded-full
          font-semibold shadow-sm hover:bg-[#1a8cd8] transition">
  ‚Üê Back
</a>

<div class="max-w-3xl mx-auto bg-twitterCard dark:bg-darkCard
            p-8 rounded-2xl border border-twitterBorder dark:border-darkBorder
            shadow-sm">

  <!-- USER HEADER -->
  <div class="flex items-center gap-5 mb-6">

    <!-- PROFILE IMAGE -->
    <div class="w-16 h-16 rounded-full overflow-hidden
                border border-twitterBorder dark:border-darkBorder
                bg-gray-100 dark:bg-darkBg">
      <% if (post.profile_url) { %>
        <img src="<%= post.profile_url %>" class="w-full h-full object-cover">
      <% } else { %>
        <div class="w-full h-full flex items-center justify-center text-twitterMuted dark:text-darkMuted text-xs">
          No Image
        </div>
      <% } %>
    </div>

    <div>
      <h1 class="text-lg font-bold">
        @<%= post.username %>
      </h1>
      <p class="text-sm text-twitterMuted dark:text-darkMuted">
        <%= post.email %>
      </p>
      <p class="text-xs text-twitterMuted dark:text-darkMuted">
        <%= post.timeAgo %>
      </p>
    </div>
  </div>

  <!-- POST IMAGE -->
  <% if (post.url) { %>
    <img
      src="<%= post.url %>"
      class="rounded-xl mb-6 max-h-[420px] mx-auto
             border border-twitterBorder dark:border-darkBorder"
      alt="Post image">
  <% } %>

  <!-- POST CONTENT -->
  <div class="bg-twitterHover dark:bg-white/5
              p-6 rounded-xl
              border border-twitterBorder dark:border-darkBorder">

    <p class="text-[15px] leading-relaxed break-words">
      <%= post.content %>
    </p>
  </div>

</div>

<!-- THEME TOGGLE SCRIPT -->
<script>
  const html = document.documentElement;
  const toggle = document.getElementById("themeToggle");
  const sun = document.getElementById("sun");
  const moon = document.getElementById("moon");

  if (localStorage.theme === "dark") {
    html.classList.add("dark");
    sun.classList.add("hidden");
    moon.classList.remove("hidden");
  }

  toggle.onclick = () => {
    const isDark = html.classList.toggle("dark");
    sun.classList.toggle("hidden", isDark);
    moon.classList.toggle("hidden", !isDark);
    localStorage.theme = isDark ? "dark" : "light";
  };
</script>

</body>
</html>
